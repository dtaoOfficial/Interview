spring.application.name=resume

# ? Load .env file if available
spring.config.import=optional:file:.env[.properties]

# =============================================
# SERVER CONFIGURATION
# =============================================
server.port=${PORT:8080}

# =============================================
# MONGODB CONFIGURATION
# =============================================
spring.data.mongodb.uri=${MONGO_URI}
spring.data.mongodb.database=resume_db
spring.data.mongodb.auto-index-creation=true

# =============================================
# FILE UPLOAD CONFIGURATION
# =============================================
file.upload-dir=${UPLOAD_DIR:uploads}
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

# =============================================
# SECURITY / JWT CONFIG
# =============================================
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION:3600000}

# =============================================
# SMTP EMAIL CONFIGURATION (GMAIL SSL)
# =============================================
spring.mail.host=${SMTP_HOST}
spring.mail.port=${SMTP_PORT}
spring.mail.username=${SMTP_USERNAME}
spring.mail.password=${SMTP_PASSWORD}
spring.mail.protocol=smtps

# SSL/TLS Settings for Gmail
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.ssl.enable=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=3000
spring.mail.properties.mail.smtp.writetimeout=5000

# Custom Properties for Sender Name
app.mail.from=${MAIL_FROM_EMAIL}
app.mail.sender-name=${MAIL_SENDER_NAME}
app.hr.email=${HR_EMAIL}

# =============================================
# ? CORS CONFIGURATION (DYNAMIC FIX)
# =============================================
# Now it reads the list from your backend.env file!
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS}

app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowed-headers=Authorization,Content-Type
app.cors.allow-credentials=true

# =============================================
# LOGGING
# =============================================
logging.level.org.springframework.security=INFO
logging.level.org.springframework.web=INFO
logging.level.com.dtao.resume=DEBUG